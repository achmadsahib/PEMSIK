{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\Downloads\\\\Tugas7\\\\src\\\\Mahasiswa\\\\Mahasiswa.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport MahasiswaModal from \"./MahasiswaModal\";\nimport MahasiswaTable from \"./MahasiswaTable\";\nimport { getAllMahasiswa, storeMahasiswa, updateMahasiswa, deleteMahasiswa } from \"../Utils/Apis/MahasiswaApi\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Mahasiswa = () => {\n  _s();\n  const [mahasiswa, setMahasiswa] = useState([]);\n  const [selectedMahasiswa, setSelectedMahasiswa] = useState(null);\n  const [isModalOpen, setModalOpen] = useState(false);\n  const [form, setForm] = useState({\n    id: \"\",\n    nim: \"\",\n    nama: \"\"\n  });\n  const fetchMahasiswa = async () => {\n    try {\n      const res = await getAllMahasiswa();\n      setMahasiswa(res.data);\n    } catch (error) {\n      console.error(\"Gagal mengambil data mahasiswa:\", error);\n    }\n  };\n  useEffect(() => {\n    fetchMahasiswa();\n  }, []);\n  const openAddModal = () => {\n    setSelectedMahasiswa(null);\n    setForm({\n      id: \"\",\n      nim: \"\",\n      nama: \"\"\n    });\n    setModalOpen(true);\n  };\n  const openEditModal = mhs => {\n    setForm({\n      id: mhs.id,\n      nim: mhs.nim,\n      nama: mhs.nama\n    });\n    setSelectedMahasiswa(mhs);\n    setModalOpen(true);\n  };\n  const handleSubmit = async data => {\n    try {\n      if (selectedMahasiswa) {\n        const confirmed = window.confirm(\"Apakah Anda yakin ingin memperbarui data mahasiswa?\");\n        if (confirmed) {\n          await updateMahasiswa(form.id, form);\n          setMahasiswa(mahasiswa.map(m => m.id === form.id ? {\n            ...m,\n            ...form\n          } : m));\n        }\n      } else {\n        await storeMahasiswa(form);\n        setMahasiswa([...mahasiswa, form]);\n      }\n      setModalOpen(false);\n    } catch (error) {\n      console.error(\"Gagal menyimpan data mahasiswa:\", error);\n    }\n  };\n  const handleDelete = async id => {\n    try {\n      const confirmed = window.confirm(\"Apakah Anda yakin ingin menghapus data mahasiswa?\");\n      if (confirmed) {\n        await deleteMahasiswa(id);\n        setMahasiswa(mahasiswa.filter(m => m.id !== id));\n      }\n    } catch (error) {\n      console.error(\"Gagal menghapus data mahasiswa:\", error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-xl font-bold mb-4\",\n        children: \"Data Mahasiswa\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: openAddModal,\n        className: \"bg-blue-500 text-white px-4 py-2 rounded mb-4 hover:bg-blue-600\",\n        children: \"Tambah Mahasiswa\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MahasiswaTable, {\n      mahasiswa: mahasiswa,\n      openEditModal: openEditModal,\n      onDelete: handleDelete\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MahasiswaModal, {\n      isModalOpen: isModalOpen,\n      onClose: () => setModalOpen(false),\n      onSubmit: handleSubmit,\n      selectedMahasiswa: selectedMahasiswa\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 5\n  }, this);\n};\n_s(Mahasiswa, \"Ns5PTvI4zo9wGk4lAalbwjCaA6c=\");\n_c = Mahasiswa;\nexport default Mahasiswa;\nvar _c;\n$RefreshReg$(_c, \"Mahasiswa\");","map":{"version":3,"names":["React","useState","useEffect","MahasiswaModal","MahasiswaTable","getAllMahasiswa","storeMahasiswa","updateMahasiswa","deleteMahasiswa","jsxDEV","_jsxDEV","Mahasiswa","_s","mahasiswa","setMahasiswa","selectedMahasiswa","setSelectedMahasiswa","isModalOpen","setModalOpen","form","setForm","id","nim","nama","fetchMahasiswa","res","data","error","console","openAddModal","openEditModal","mhs","handleSubmit","confirmed","window","confirm","map","m","handleDelete","filter","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","onDelete","onClose","onSubmit","_c","$RefreshReg$"],"sources":["C:/Users/HP/Downloads/Tugas7/src/Mahasiswa/Mahasiswa.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport MahasiswaModal from \"./MahasiswaModal\";\r\nimport MahasiswaTable from \"./MahasiswaTable\";\r\nimport {\r\n  getAllMahasiswa,\r\n  storeMahasiswa,\r\n  updateMahasiswa,\r\n  deleteMahasiswa,\r\n} from \"../Utils/Apis/MahasiswaApi\";\r\n\r\nconst Mahasiswa = () => {\r\n  const [mahasiswa, setMahasiswa] = useState([]);\r\n  const [selectedMahasiswa, setSelectedMahasiswa] = useState(null);\r\n  const [isModalOpen, setModalOpen] = useState(false);\r\n  const [form, setForm] = useState({ id: \"\", nim: \"\", nama: \"\" });\r\n\r\n  const fetchMahasiswa = async () => {\r\n    try {\r\n      const res = await getAllMahasiswa();\r\n      setMahasiswa(res.data);\r\n    } catch (error) {\r\n      console.error(\"Gagal mengambil data mahasiswa:\", error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchMahasiswa();\r\n  }, []);\r\n\r\n  const openAddModal = () => {\r\n    setSelectedMahasiswa(null);\r\n    setForm({ id: \"\", nim: \"\", nama: \"\" });\r\n    setModalOpen(true);\r\n  };\r\n\r\n  const openEditModal = (mhs) => {\r\n    setForm({ id: mhs.id, nim: mhs.nim, nama: mhs.nama });\r\n    setSelectedMahasiswa(mhs);\r\n    setModalOpen(true);\r\n  };\r\n\r\n  const handleSubmit = async (data) => {\r\n    try {\r\n      if (selectedMahasiswa) {\r\n        const confirmed = window.confirm(\r\n          \"Apakah Anda yakin ingin memperbarui data mahasiswa?\"\r\n        );\r\n        if (confirmed) {\r\n          await updateMahasiswa(form.id, form);\r\n          setMahasiswa(\r\n            mahasiswa.map((m) => (m.id === form.id ? { ...m, ...form } : m))\r\n          );\r\n        }\r\n      } else {\r\n        await storeMahasiswa(form);\r\n        setMahasiswa([...mahasiswa, form]);\r\n      }\r\n      setModalOpen(false);\r\n    } catch (error) {\r\n      console.error(\"Gagal menyimpan data mahasiswa:\", error);\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (id) => {\r\n    try {\r\n      const confirmed = window.confirm(\r\n        \"Apakah Anda yakin ingin menghapus data mahasiswa?\"\r\n      );\r\n      if (confirmed) {\r\n        await deleteMahasiswa(id);\r\n        setMahasiswa(mahasiswa.filter((m) => m.id !== id));\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Gagal menghapus data mahasiswa:\", error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-4\">\r\n      <div className=\"flex justify-between\">\r\n        <h1 className=\"text-xl font-bold mb-4\">Data Mahasiswa</h1>\r\n        <button\r\n          onClick={openAddModal}\r\n          className=\"bg-blue-500 text-white px-4 py-2 rounded mb-4 hover:bg-blue-600\"\r\n        >\r\n          Tambah Mahasiswa\r\n        </button>\r\n      </div>\r\n      <MahasiswaTable\r\n        mahasiswa={mahasiswa}\r\n        openEditModal={openEditModal}\r\n        onDelete={handleDelete}\r\n      />\r\n      <MahasiswaModal\r\n        isModalOpen={isModalOpen}\r\n        onClose={() => setModalOpen(false)}\r\n        onSubmit={handleSubmit}\r\n        selectedMahasiswa={selectedMahasiswa}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Mahasiswa;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}