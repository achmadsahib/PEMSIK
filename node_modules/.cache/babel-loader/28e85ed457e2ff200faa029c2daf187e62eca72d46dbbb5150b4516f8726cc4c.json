{"ast":null,"code":"var _jsxFileName = \"D:\\\\PEMSIK\\\\Tugas7\\\\src\\\\Mahasiswa\\\\Mahasiswa.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport MahasiswaModal from \"./MahasiswaModal\";\nimport MahasiswaTable from \"./MahasiswaTable\";\nimport { getAllMahasiswa, storeMahasiswa as apiStoreMahasiswa, updateMahasiswa as apiUpdateMahasiswa, deleteMahasiswa as apiDeleteMahasiswa } from \"../Utils/Apis/MahasiswaApi\"; // Path relatif\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Mahasiswa = () => {\n  _s();\n  const [mahasiswa, setMahasiswa] = useState([]);\n  const [selectedMahasiswa, setSelectedMahasiswa] = useState(null);\n  const [isModalOpen, setModalOpen] = useState(false);\n  const fetchMahasiswa = async () => {\n    try {\n      const res = await getAllMahasiswa();\n      setMahasiswa(res.data);\n    } catch (error) {\n      console.error(\"Gagal mengambil data mahasiswa:\", error);\n    }\n  };\n  useEffect(() => {\n    fetchMahasiswa();\n  }, []);\n  const openAddModal = () => {\n    setSelectedMahasiswa(null);\n    setModalOpen(true);\n  };\n  const openEditModal = mhs => {\n    setSelectedMahasiswa(mhs);\n    setModalOpen(true);\n  };\n  const handleSubmit = async data => {\n    try {\n      if (selectedMahasiswa) {\n        // eslint-disable-next-line no-restricted-globals\n        const confirmed = confirm(\"Apakah Anda yakin ingin memperbarui data?\");\n        if (confirmed) {\n          await apiUpdateMahasiswa(selectedMahasiswa.id, data);\n        }\n      } else {\n        await apiStoreMahasiswa(data);\n      }\n      setModalOpen(false);\n      fetchMahasiswa();\n    } catch (error) {\n      console.error(\"Gagal menyimpan data:\", error);\n    }\n  };\n  const handleDelete = async id => {\n    // eslint-disable-next-line no-restricted-globals\n    const confirmed = confirm(\"Apakah Anda yakin ingin menghapus data?\");\n    if (confirmed) {\n      try {\n        await apiDeleteMahasiswa(id);\n        fetchMahasiswa();\n      } catch (error) {\n        console.error(\"Gagal menghapus data:\", error);\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-xl font-bold mb-4\",\n        children: \"Data Mahasiswa\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: openAddModal,\n        className: \"bg-blue-500 text-white px-4 py-2 rounded mb-4 hover:bg-blue-600\",\n        children: \"Tambah Mahasiswa\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MahasiswaTable, {\n      mahasiswa: mahasiswa,\n      openEditModal: openEditModal,\n      onDelete: handleDelete\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MahasiswaModal, {\n      isModalOpen: isModalOpen,\n      onClose: () => setModalOpen(false),\n      onSubmit: handleSubmit,\n      selectedMahasiswa: selectedMahasiswa\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n};\n_s(Mahasiswa, \"/AC7BCOhJjERGhS/+w96guqyKlI=\");\n_c = Mahasiswa;\nexport default Mahasiswa;\nvar _c;\n$RefreshReg$(_c, \"Mahasiswa\");","map":{"version":3,"names":["React","useEffect","useState","MahasiswaModal","MahasiswaTable","getAllMahasiswa","storeMahasiswa","apiStoreMahasiswa","updateMahasiswa","apiUpdateMahasiswa","deleteMahasiswa","apiDeleteMahasiswa","jsxDEV","_jsxDEV","Mahasiswa","_s","mahasiswa","setMahasiswa","selectedMahasiswa","setSelectedMahasiswa","isModalOpen","setModalOpen","fetchMahasiswa","res","data","error","console","openAddModal","openEditModal","mhs","handleSubmit","confirmed","confirm","id","handleDelete","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","onDelete","onClose","onSubmit","_c","$RefreshReg$"],"sources":["D:/PEMSIK/Tugas7/src/Mahasiswa/Mahasiswa.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport MahasiswaModal from \"./MahasiswaModal\";\r\nimport MahasiswaTable from \"./MahasiswaTable\";\r\nimport {\r\n  getAllMahasiswa,\r\n  storeMahasiswa as apiStoreMahasiswa,\r\n  updateMahasiswa as apiUpdateMahasiswa,\r\n  deleteMahasiswa as apiDeleteMahasiswa,\r\n} from \"../Utils/Apis/MahasiswaApi\"; // Path relatif\r\n\r\nconst Mahasiswa = () => {\r\n  const [mahasiswa, setMahasiswa] = useState([]);\r\n  const [selectedMahasiswa, setSelectedMahasiswa] = useState(null);\r\n  const [isModalOpen, setModalOpen] = useState(false);\r\n\r\n  const fetchMahasiswa = async () => {\r\n    try {\r\n      const res = await getAllMahasiswa();\r\n      setMahasiswa(res.data);\r\n    } catch (error) {\r\n      console.error(\"Gagal mengambil data mahasiswa:\", error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchMahasiswa();\r\n  }, []);\r\n\r\n  const openAddModal = () => {\r\n    setSelectedMahasiswa(null);\r\n    setModalOpen(true);\r\n  };\r\n\r\n  const openEditModal = (mhs) => {\r\n    setSelectedMahasiswa(mhs);\r\n    setModalOpen(true);\r\n  };\r\n\r\n  const handleSubmit = async (data) => {\r\n    try {\r\n      if (selectedMahasiswa) {\r\n        // eslint-disable-next-line no-restricted-globals\r\n        const confirmed = confirm(\"Apakah Anda yakin ingin memperbarui data?\");\r\n        if (confirmed) {\r\n          await apiUpdateMahasiswa(selectedMahasiswa.id, data);\r\n        }\r\n      } else {\r\n        await apiStoreMahasiswa(data);\r\n      }\r\n      setModalOpen(false);\r\n      fetchMahasiswa();\r\n    } catch (error) {\r\n      console.error(\"Gagal menyimpan data:\", error);\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (id) => {\r\n    // eslint-disable-next-line no-restricted-globals\r\n    const confirmed = confirm(\"Apakah Anda yakin ingin menghapus data?\");\r\n    if (confirmed) {\r\n      try {\r\n        await apiDeleteMahasiswa(id);\r\n        fetchMahasiswa();\r\n      } catch (error) {\r\n        console.error(\"Gagal menghapus data:\", error);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-4\">\r\n      <div className=\"flex justify-between\">\r\n        <h1 className=\"text-xl font-bold mb-4\">Data Mahasiswa</h1>\r\n        <button\r\n          onClick={openAddModal}\r\n          className=\"bg-blue-500 text-white px-4 py-2 rounded mb-4 hover:bg-blue-600\"\r\n        >\r\n          Tambah Mahasiswa\r\n        </button>\r\n      </div>\r\n      <MahasiswaTable\r\n        mahasiswa={mahasiswa}\r\n        openEditModal={openEditModal}\r\n        onDelete={handleDelete}\r\n      />\r\n      <MahasiswaModal\r\n        isModalOpen={isModalOpen}\r\n        onClose={() => setModalOpen(false)}\r\n        onSubmit={handleSubmit}\r\n        selectedMahasiswa={selectedMahasiswa}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Mahasiswa;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}